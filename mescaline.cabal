name:               mescaline
version:            0.0.1

synopsis:           <Project description>
description:        <Project description>
category:           Sound
license:            GPL

author:             Globero.es
maintainer:         devot@globero.es

build-type:         Custom
cabal-version:      >= 1.6

library
    hs-source-dirs: src
    ghc-options:    -Wall
    build-depends:  base >= 4 && < 5
                  , arrows
                  , bktrees >= 0.3 && < 0.4
                  , binary
                  , bytestring
                  , Cabal >= 1.6
                  , cabal-macosx >= 0.1 && < 0.2
                  , CCA >= 0.1.3 && < 0.2
                  , containers
                  , Control-Engine
                  , Crypto >= 4.2
                  , data-accessor >= 0.2
                  , directory
                  , FileManip >= 0.3
                  , filepath
                  , FindBin >= 0.0 && < 0.1
                  , fingertree
                  , HDBC >= 1.1 && < 2
                  , HDBC-sqlite3 >= 1.1 && < 2
                  , hint >= 0.3
                  , hmatrix >= 0.9 && < 1.0
                  , hmeap >= 0.8
                  , hosc >= 0.8
                  , hsc3 >= 0.8
                  , hsc3-lang >= 0.8
                  , hsc3-process >= 0.3 && < 0.4
                  , hsndfile >= 0.4
                  , MissingH >= 1.0
                  , MonadCatchIO-mtl >= 0.3 && < 0.4
                  , monadIO >= 0.9 && < 1.0
                  , mtl
                  , process >= 1.0
                  , qt >= 1.1 && < 1.2
                  , random
                  , stm
                  , strict-concurrency >= 0.2
                  , template-haskell
                  , uuid >= 1.0
                  , vector >= 0.5
    exposed-modules:
                    Control.CCA.ArrowP
                    Control.Concurrent.Chan.Chunked
                    -- Data.Iteratee.Chan
                    -- Data.Iteratee.OSC
                    -- Data.Iteratee.Util
                    Data.Signal.SF
                    Data.Signal.SF.Base
                    Data.Signal.SF.Event
                    Mescaline
                    Mescaline.Control.Concurrent
                    Mescaline.Control.Concurrent.Pool
                    Mescaline.Data.ByteString
                    Mescaline.Data.ListReader
                    Mescaline.Data.Unique
                    Mescaline.Database
                    Mescaline.Database.Feature
                    Mescaline.Database.FlatFile
                    Mescaline.Database.Model
                    Mescaline.Database.Query
                    Mescaline.Database.SoundFile
                    Mescaline.Database.SourceFile
                    Mescaline.Database.Sql
                    Mescaline.Database.SqlQuery
                    Mescaline.Database.Table
                    Mescaline.Database.Unit
                    Mescaline.Meap.Chain
                    Mescaline.Meap.Extractor
                    Mescaline.Meap.Feature
                    -- Mescaline.Meap.File
                    Mescaline.Meap.Import
                    Mescaline.Meap.Process
                    Mescaline.Meap.Segmenter
                    Mescaline.Statistics.PCA
                    Mescaline.Synth.BufferCache
                    Mescaline.Synth.BufferCache.Alloc
                    Mescaline.Synth.BufferCache.Server
                    Mescaline.Synth.FeatureSpace.Model
                    Mescaline.Synth.FeatureSpace.Process
                    Mescaline.Synth.FeatureSpace.View
                    Mescaline.Synth.Pattern
                    Mescaline.Synth.Pattern.Load
                    Mescaline.Synth.Sampler
                    Mescaline.Synth.Sequencer.Model
                    Mescaline.Synth.Sequencer.Process
                    Mescaline.Synth.Sequencer.View
                    Mescaline.Synth.SSF
                    Mescaline.Synth.SSF.BufferCache
                    Mescaline.Synth.SSF.DiskSampler
                    Mescaline.UI
                    Sound.OpenSoundControl.BufferedTransport
                    Sound.SC3.Server.Allocator
                    Sound.SC3.Server.Allocator.Range
                    Sound.SC3.Server.Allocator.SimpleAllocator
                    Sound.SC3.Server.Connection
                    Sound.SC3.Server.Monad
                    Sound.SC3.Server.Notification
                    Sound.SC3.Server.State
                    Sound.SC3.Server.State.IO

-- executable sampler
--     main-is:        sampler.hs
--     other-modules:  Mescaline.Sampler.GUI
--                   , Mescaline.Sampler.Keyboard
--                   , Mescaline.Sampler.Looper
--     hs-source-dirs: src, tools, tools/sampler
--     build-depends:  gtk
--     ghc-options:    -threaded

executable mescaline
    main-is:        main.hs
    hs-source-dirs: app, src
    build-depends:  qt >= 1.1 && < 1.2
    ghc-options:      -threaded
    ghc-prof-options: -threaded -auto-all

--executable looper
--    main-is:        looper.hs
--    other-modules:  Mescaline.Sampler.GUI
--                  , Mescaline.Sampler.Keyboard
--                  , Mescaline.Sampler.Looper
--                  , Mescaline.Sampler.MIDI
--    hs-source-dirs: src, tools, tools/sampler
--    build-depends:  gtk
--    ghc-options:    -threaded

executable mescalinedb
    main-is:        mescalinedb.hs
    build-depends:  hmatrix >= 0.9 && < 1.0
    ghc-options:    -threaded -funbox-strict-fields
    hs-source-dirs: src, tools
